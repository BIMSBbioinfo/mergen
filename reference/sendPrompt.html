<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Send a prompt to a specified language model agent and return the response. — sendPrompt • mergen</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Send a prompt to a specified language model agent and return the response. — sendPrompt"><meta name="description" content="Send a prompt to a specified language model agent and return the response."><meta property="og:description" content="Send a prompt to a specified language model agent and return the response."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mergen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mergen.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BIMSBbioinfo/mergen" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Send a prompt to a specified language model agent and return the response.</h1>
      <small class="dont-index">Source: <a href="https://github.com/BIMSBbioinfo/mergen/blob/main/R/sendPrompt.R" class="external-link"><code>R/sendPrompt.R</code></a></small>
      <div class="d-none name"><code>sendPrompt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Send a prompt to a specified language model agent and return the response.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sendPrompt</span><span class="op">(</span></span>
<span>  <span class="va">agent</span>,</span>
<span>  <span class="va">prompt</span>,</span>
<span>  context <span class="op">=</span> <span class="fu"><a href="promptContext.html">promptContext</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"simple"</span><span class="op">)</span>,</span>
<span>  return.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"object"</span><span class="op">)</span>,</span>
<span>  previous.msgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-agent">agent<a class="anchor" aria-label="anchor" href="#arg-agent"></a></dt>
<dd><p>An object containing the agent's information (e.g., type and model etc.).</p></dd>


<dt id="arg-prompt">prompt<a class="anchor" aria-label="anchor" href="#arg-prompt"></a></dt>
<dd><p>The prompt text to send to the language model.</p></dd>


<dt id="arg-context">context<a class="anchor" aria-label="anchor" href="#arg-context"></a></dt>
<dd><p>Optional context to provide alongside the prompt (default is promptContext(type = "simple")).</p></dd>


<dt id="arg-return-type">return.type<a class="anchor" aria-label="anchor" href="#arg-return-type"></a></dt>
<dd><p>The type of output to return, either the text response ("text") or
the entire response object ("object").</p></dd>


<dt id="arg-previous-msgs">previous.msgs<a class="anchor" aria-label="anchor" href="#arg-previous-msgs"></a></dt>
<dd><p>a list of lists for previous prompts and responses.
Useful to add context of the previous messages for the API.
this argument works with openai and generic models, but not with replicate API.
Default: NULL</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to the LLM API. Such as maximum tokens, ("max_tokens"), to be returned.
Users can also also provide other arguments in openai API-like
arguments documented on [the official documentation](https://platform.openai.com/docs/api-reference/chat/create). Other APIs are also following similar argument naming patterns.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The text response or the entire response object, based on the specified return type.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="promptContext.html">promptContext</a></code> for predefined contexts to use.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">agent</span> <span class="op">&lt;-</span> <span class="fu"><a href="setupAgent.html">setupAgent</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"openai"</span>,type<span class="op">=</span><span class="st">"chat"</span>,model<span class="op">=</span><span class="st">"gpt-4"</span>,</span></span>
<span class="r-in"><span>                    ai_api_key<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="st">"tell me a joke"</span></span></span>
<span class="r-in"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu">sendPrompt</span><span class="op">(</span><span class="va">agent</span>, <span class="va">prompt</span>,context<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># increase tokens, it is important for getting longer responses</span></span></span>
<span class="r-in"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu">sendPrompt</span><span class="op">(</span><span class="va">agent</span>,<span class="va">prompt</span>,context<span class="op">=</span><span class="st">""</span>,return.type<span class="op">=</span><span class="st">"text"</span>, max_tokens <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get previous messages into the context</span></span></span>
<span class="r-in"><span><span class="va">prompt</span><span class="op">=</span><span class="st">"what about 2010?"</span></span></span>
<span class="r-in"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu">sendPrompt</span><span class="op">(</span><span class="va">agent</span>,<span class="va">prompt</span>,context<span class="op">=</span><span class="st">""</span>,</span></span>
<span class="r-in"><span>                       return.type<span class="op">=</span><span class="st">"text"</span>,</span></span>
<span class="r-in"><span>                       previous.msgs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                                          <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                                               <span class="st">"role"</span> <span class="op">=</span> <span class="st">"user"</span>,</span></span>
<span class="r-in"><span>                                                <span class="st">"content"</span> <span class="op">=</span> <span class="st">"Who won the world</span></span></span>
<span class="r-in"><span><span class="st">                                                 series in 2020?"</span></span></span>
<span class="r-in"><span>                                                 <span class="op">)</span>,</span></span>
<span class="r-in"><span>                                          <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                                                <span class="st">"role"</span> <span class="op">=</span> <span class="st">"assistant"</span>,</span></span>
<span class="r-in"><span>                                              <span class="st">"content"</span> <span class="op">=</span> <span class="st">"The Los Angeles Dodgers"</span></span></span>
<span class="r-in"><span>                                              <span class="op">)</span></span></span>
<span class="r-in"><span>                                          <span class="op">)</span></span></span>
<span class="r-in"><span>                       <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Altuna Akalin, Jacqueline Anne Jansen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

